# LogiTrack TMS Frontend

Современный фронтенд для системы управления транспортом (TMS) на базе React + TypeScript.

## Технологии

- **React 19** - UI библиотека
- **TypeScript** - типизация
- **React Router** - маршрутизация
- **React Query** - управление состоянием и кэширование API запросов
- **Axios** - HTTP клиент
- **Tailwind CSS** - стилизация
- **Leaflet** - карты
- **Recharts** - графики

## Установка

```bash
npm install
```

## Настройка

Создайте файл `.env` в корне проекта:

```env
VITE_API_URL=http://localhost:8000
```

## Запуск

```bash
npm run dev
```

Приложение будет доступно по адресу: `http://localhost:5173`

## Структура проекта

```
frontend/
├── components/          # Переиспользуемые компоненты
│   └── Layout.tsx       # Основной layout с сайдбаром
├── contexts/            # React контексты
│   └── AuthContext.tsx  # Контекст аутентификации
├── pages/               # Страницы приложения
│   ├── Home.tsx         # Главная страница с поиском
│   ├── Login.tsx        # Страница входа
│   ├── Register.tsx     # Страница регистрации
│   ├── OrderTracking.tsx # Отслеживание заказа
│   ├── Dashboard.tsx    # Дашборд
│   └── ...
├── services/            # Сервисы и API
│   ├── api.ts          # API клиент
│   ├── auth.ts         # Хуки аутентификации
│   └── hooks.ts        # React Query хуки
├── types.ts            # TypeScript типы
└── App.tsx             # Главный компонент с роутингом
```

## Основные функции

### 1. Главная страница (`/`)

- Поиск заказа по tracking code
- Автоматическое перенаправление на авторизацию при необходимости
- Информация о сервисе

### 2. Авторизация (`/login`)

- Вход в систему
- Поддержка редиректа после входа на страницу отслеживания заказа

### 3. Регистрация (`/register`)

- Создание нового аккаунта
- Автоматический вход после регистрации

### 4. Отслеживание заказа (`/track/:orderId`)

- Real-time отслеживание местоположения транспорта
- Временная шкала статусов заказа
- Карта с текущим местоположением

### 5. Защищенные роуты

Все страницы дашборда требуют аутентификации:

- `/dashboard` - Главная панель
- `/map` - Карта мониторинга
- `/fleet` - Управление транспортом
- `/logistics` - Управление заказами
- И другие...

## API Интеграция

Все API запросы идут через `services/api.ts` с автоматической обработкой:

- JWT токенов
- Ошибок аутентификации
- Кэширования через React Query

## Аутентификация

Токен хранится в `localStorage` и автоматически добавляется к каждому запросу.
При истечении токена пользователь перенаправляется на страницу входа.

## Сборка для продакшена

```bash
npm run build
```

Собранные файлы будут в папке `dist/`.

## Переменные окружения

- `VITE_API_URL` - URL бекенд API (по умолчанию: http://localhost:8000)
